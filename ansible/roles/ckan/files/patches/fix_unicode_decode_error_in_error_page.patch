From afd0c84dff89651c7d70db3ac9e30409b2d53440 Mon Sep 17 00:00:00 2001
From: Jari Voutilainen <jari.voutilainen@iki.fi>
Date: Fri, 12 Apr 2019 09:57:42 +0300
Subject: [PATCH] Fix Unicode Decode Error in error page when error message has
 latin characters

---
 ckan/templates-bs2/error_document_template.html | 2 +-
 ckan/templates/error_document_template.html     | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/ckan/templates-bs2/error_document_template.html b/ckan/templates-bs2/error_document_template.html
index 0baecba15b..8d087c350f 100644
--- a/ckan/templates-bs2/error_document_template.html
+++ b/ckan/templates-bs2/error_document_template.html
@@ -5,7 +5,7 @@
 {% block primary %}
   <article class="module">
     <div class="module-content">
-      {{ content}}
+      {{ content.decode('utf-8') }}
     </div>
   </article>
 {% endblock %}
diff --git a/ckan/templates/error_document_template.html b/ckan/templates/error_document_template.html
index 0baecba15b..8d087c350f 100644
--- a/ckan/templates/error_document_template.html
+++ b/ckan/templates/error_document_template.html
@@ -5,7 +5,7 @@
 {% block primary %}
   <article class="module">
     <div class="module-content">
-      {{ content}}
+      {{ content.decode('utf-8') }}
     </div>
   </article>
 {% endblock %}